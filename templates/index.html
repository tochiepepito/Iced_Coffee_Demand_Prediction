<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lokal Kofi - Iced Coffee Demand Predict</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
</head>
<body>
    <div class="container">
        <h1 class="title">Lokal Kofi - Iced Coffee Demand Predict</h1>
        
        <form method="post" action="/">
            <label>Date</label>
            <div class="date-group">
                <input type="number" name="month" placeholder="MM" required>
                <input type="number" name="day" placeholder="DD" required>
                <input type="number" name="year" placeholder="YYYY" required>
            </div>

            <label>Time of Day</label>
            <select name="time_of_day" required style="width: 100%; padding: 12px; margin-bottom: 20px; border: none; border-radius: 4px; font-size: 16px;">
                <option value="">Select Time of Day</option>
                <option value="morning">Morning</option>
                <option value="afternoon">Afternoon</option>
                <option value="evening">Evening</option>
            </select>
            
            <input type="number" name="temperature" placeholder="Temperature (Â°C)" required>
            <input type="text" name="weather" placeholder="Weather (optional)">
            <input type="text" name="holiday" placeholder="Holiday (optional)">
            <input type="text" name="university_event" placeholder="University Event (optional)">
            
            <label>Day of Week (auto-calculated)</label>
            <input type="text" name="day_of_week" placeholder="Day of Week" readonly style="background: #e0e0e0; cursor: not-allowed;">
            
            <button type="submit">Predict</button>
            
            {% if error %}
                <div class="error">{{ error }}</div>
            {% endif %}
            
            {% if prediction %}
                <div class="prediction">{{ prediction }}</div>
            {% endif %}
        </form>
        <div class="button-group">
            <a href="/download_predictions" class="download-btn">ðŸ“¥ Download Predictions (CSV)</a>
            <a href="/view_predictions" class="view-btn">ðŸ“Š View All Predictions</a>
        </div>
    </div>

    <script>
        function updateDayOfWeek() {
            const month = document.querySelector('input[name="month"]').value;
            const day = document.querySelector('input[name="day"]').value;
            const year = document.querySelector('input[name="year"]').value;
            
            if (month && day && year) {
                const date = new Date(year, month - 1, day);
                const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
                document.querySelector('input[name="day_of_week"]').value = days[date.getDay()];
            }
        }
        
        document.querySelector('input[name="month"]').addEventListener('change', updateDayOfWeek);
        document.querySelector('input[name="day"]').addEventListener('change', updateDayOfWeek);
        document.querySelector('input[name="year"]').addEventListener('change', updateDayOfWeek);
    </script>
</body>
</html>